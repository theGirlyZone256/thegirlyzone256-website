<!--Hero Images (1600x900)px in webp format-->
<!DOCTYPE html>
<html lang="en">
<head>
     <!-- ðŸ”´ ADD GOOGLE ANALYTICS HERE -->
    <!-- Google Analytics 4 for theGirlyZone Uganda -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WFG4EDT2DJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WFG4EDT2DJ');
        
        // Enhanced e-commerce tracking
        document.addEventListener('DOMContentLoaded', function() {
            document.addEventListener('cartUpdated', function() {
                gtag('event', 'add_to_cart');
            });
            document.addEventListener('favouritesUpdated', function() {
                gtag('event', 'add_to_wishlist');
            });
            const newsletterForm = document.querySelector('.email-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function() {
                    gtag('event', 'generate_lead');
                });
            }
        });
    </script>
    <title>All Ladies' Clothing & Fashion | theGirlyZone Uganda</title>
    <meta name="description" content="Shop affordable ladies' drsses, tops, bottoms, tote bags and accessories at theGirlyZone Uganda.">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    <link rel="icon" type="image/x-icon" href="/assets/images/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/assets/images/favicon/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
:root { --primary-color: #ff004d; --text-color: #000000; --background-color: #ffffff; --border-color: #e5e5e5; --golden-color: #D4AF37; --hero-overlap: 12px;}
body { font-family: Arial, Helvetica, sans-serif; color: var(--text-color); background-color: var(--background-color); line-height: 1.6; min-height: 100vh; display: flex; flex-direction: column;}
.container { max-width: 1200px; margin: 0 auto; /*padding: 0 20px;*/ }
/* Header */
.header { background: var(--background-color); border-bottom: 1px solid var(--border-color); padding: 1rem 0; position: sticky; top: 0; z-index: 1000; }
.header-content { display: flex; justify-content: space-between; align-items: center; }
.logo { font-size: 1.2rem; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; }
.logo a { text-decoration: none; color: var(--text-color); }
/* Header Logo Only */
.header-logo { height: 40px !important; width: auto; object-fit: contain; display: block; }
.logo { display: flex; align-items: center; height: 100%; margin-left: 2px; }
.logo a { display: flex; align-items: center; height: 100%; text-decoration: none; }
.header { background: var(--background-color); border-bottom: 1px solid var(--border-color); padding: 1rem 0; position: sticky; top: 0; z-index: 1000; min-height: 50px; height: auto; }
.header-content { display: flex; justify-content: space-between; align-items: center; height: 100%; }
.desktop-nav { display: none; align-items: center; gap: 1.5rem; }
.nav-icon { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-color); padding: 0.5rem; }
.mobile-bottom-nav { display: flex; position: fixed; bottom: 0; left: 0; width: 100%; background: white; border-top: 1px solid var(--border-color); padding: 0.75rem 0; justify-content: space-around; z-index: 999; }
.nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: var(--text-color); font-size: 0.8rem; gap: 0.1rem; background: none; border: none; cursor: pointer; padding: 0 rem; flex: 1; transition: color 0.2s ease; }
.nav-item i { font-size: 1.4rem; transition: transform 0.2s ease; }
.nav-item:active i { transform: scale(0.9); }
.nav-item:active { color: var(--primary-color); }
.hero { position: relative; height: 70vh; overflow: hidden; }
.hero-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s ease; }
.hero-slide.active { opacity: 1; }
.hero-slide img { width: 100%; height: 100%; object-fit: cover; }
.hero-content { position: absolute; bottom: 20%; left: 10%; color: white; max-width: 500px; }
.hero-btn { background: var(--primary-color); color: white; border: none; padding: 1rem 2rem; margin-top: 1rem; cursor: pointer; text-transform: uppercase; }
.hero { position: relative; height: 70vh; overflow: hidden; margin-top: calc(-1 * var(--hero-overlap)); z-index: 1; }
.product-grid-section { padding: 3rem 0; }
.section-header { text-align: center; margin-bottom: 1rem; }
.product-grid { display: grid; grid-template-columns: repeat(2, 1fr); }
.product-card { position: relative; background: var(--background-color); border: 1px solid var(--border-color); }
.product-image { position: relative; aspect-ratio: 3/4; overflow: hidden; }
.product-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
.product-image:hover img { transform: scale(1.05); }
.favourite-btn { position: absolute; top: 1rem; right: 1rem; background: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.product-info { padding: 1rem; }
.product-title { font-size: 0.8rem; margin-bottom: 0.5rem; text-transform: uppercase; }
.product-price { font-weight: 500; margin-bottom: 0.5rem; }
.color-selector { display: flex; gap: 0.5rem; margin-top: 0.75rem; flex-wrap: wrap; }
.color-option { width: 16px; height: 16px; border: 1px solid var(--border-color); cursor: pointer; background: none; transition: border-color 0.3s ease; position: relative; }
.color-option.active { border-color: var(--text-color); }
.color-option:hover { border-color: var(--text-color); }
.add-to-cart-btn { background: var(--text-color); color: var(--background-color); border: none; padding: 0.75rem 1rem; width: 100%; cursor: pointer; text-transform: uppercase; font-size: 0.8rem; margin-top: 1rem; transition: background-color 0.3s ease; }
.add-to-cart-btn:hover { background: #333; }
.product-grid-section { padding: 3rem 0; display: block; }
@media (max-width: 767px) { .logo { margin-left: 15px !important; } }
.panel-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; opacity: 0; visibility: hidden; transition: all 0.4s ease; }
.panel-overlay.active { opacity: 1; visibility: visible; }
.main-content-blur .header, .main-content-blur main, .main-content-blur .mobile-bottom-nav, .main-content-blur .footer { filter: blur(12px); pointer-events: none; }
.categories-panel { position: fixed; top: 0; left: -100%; width: 100%; max-width: 400px; height: 100vh; background: white; z-index: 1001; transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1); overflow-y: auto; box-shadow: 2px 0 20px rgba(0,0,0,0.15); display: flex; flex-direction: column; }
.categories-panel.active { left: 0; }
.panel-header { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem; border-bottom: 1px solid var(--border-color, #e5e5e5); position: relative; background: white; flex-shrink: 0; }
.panel-header h2 { font-size: 1.5rem; font-weight: 600; color: var(--text-color, #000000); }
.filter-indicator { display: flex; align-items: center; gap: 8px; background: rgba(76, 175, 80, 0.1); padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; color: #4CAF50; opacity: 0; transform: translateX(10px); transition: all 0.3s ease; }
.filter-indicator.active { opacity: 1; transform: translateX(0); }
.glowing-dot { width: 10px; height: 10px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 8px #4CAF50; animation: pulse 2s infinite; }
@keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } 100% { transform: scale(1); opacity: 1; } }
.header-filter-dot { 
    position: absolute; 
    top: 2px; 
    right: 2px; 
    left: auto; /* Remove left positioning */
    width: 8px; 
    height: 8px; 
    background-color: #4CAF50; 
    border-radius: 50%; 
    box-shadow: 0 0 6px #4CAF50; 
    animation: pulse 2s infinite; 
    display: none; 
}
.panel-content { padding: 0; flex: 1; overflow-y: auto; }
.price-filter-section { padding: 1.5rem; border-bottom: 1px solid var(--border-color, #e5e5e5); background: #f9f9f9; }
.price-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.price-header h3 { font-size: 1.1rem; font-weight: 600; color: var(--text-color, #000000); }
.price-display { font-weight: 600; color: var(--primary-color, #ff004d); transition: color 0.3s ease; }
.price-slider-container { position: relative; margin: 1.5rem 0; }
.price-slider { width: 100%; height: 6px; -webkit-appearance: none; appearance: none; background: linear-gradient(to right, #e0e0e0, var(--primary-color, #ff004d)); border-radius: 3px; outline: none; transition: background 0.3s ease; }
.price-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 22px; height: 22px; border-radius: 50%; background: var(--primary-color, #ff004d); cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: all 0.2s ease; border: 3px solid white; }
.price-slider::-webkit-slider-thumb:hover { transform: scale(1.1); box-shadow: 0 3px 12px rgba(0,0,0,0.4); }
.price-slider::-moz-range-thumb { width: 22px; height: 22px; border-radius: 50%; background: var(--primary-color, #ff004d); cursor: pointer; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); transition: all 0.2s ease; }
.price-slider::-moz-range-thumb:hover { transform: scale(1.1); }
.accordion-section { border-bottom: 1px solid var(--border-color, #e5e5e5); overflow: hidden; }
.accordion-header { display: flex; justify-content: space-between; align-items: center; padding: 1.2rem 1.5rem; cursor: pointer; transition: all 0.4s ease; background: white; }
.accordion-header:hover { background-color: #f9f9f9; }
.accordion-header h3 { font-size: 1.1rem; font-weight: 500; color: var(--text-color, #000000); transition: transform 0.3s ease; }
.accordion-header:hover h3 { transform: translateX(5px); }
.accordion-icon { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); color: #666; }
.accordion-section.active .accordion-icon { transform: rotate(180deg); color: var(--primary-color, #ff004d); }
.accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1); background: #fafafa; }
.accordion-section.active .accordion-content { max-height: 500px; }
.filter-options { display: flex; flex-direction: column; gap: 0.5rem; padding: 0 1.5rem 1.5rem; opacity: 0; transform: translateY(-10px); transition: all 0.4s ease 0.1s; }
.accordion-section.active .filter-options { opacity: 1; transform: translateY(0); }
.filter-option { display: flex; align-items: center; padding: 0.9rem 1rem; background: white; border: 1px solid var(--border-color, #e5e5e5); border-radius: 8px; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); text-align: left; font-size: 0.95rem; color: var(--text-color, #000000); position: relative; overflow: hidden; }
.filter-option:hover { border-color: #ccc; background-color: #f9f9f9; transform: translateX(5px); }
.filter-option.active { background-color: var(--text-color, #000000); color: white; border-color: var(--text-color, #000000); transform: translateX(8px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.filter-option.active::after { content: " âœ“"; margin-left: auto; font-weight: bold; animation: checkPop 0.3s ease; }
@keyframes checkPop { 0% { transform: scale(0); } 70% { transform: scale(1.2); } 100% { transform: scale(1); } }
.action-buttons { display: flex; gap: 1rem; padding: 1.5rem; background: white; border-top: 1px solid var(--border-color, #e5e5e5); flex-shrink: 0; }
.action-btn { flex: 1; padding: 1rem; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; text-transform: uppercase; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-size: 0.9rem; }
.clear-filters { background: #f0f0f0; color: #333; }
.clear-filters:hover { background: #e0e0e0; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.apply-filters { background: var(--text-color, #000000); color: white; }
.apply-filters:hover { background: #333; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.filter-tooltip { position: absolute; top: 100%; right: 10px; margin-top: 10px; background: white; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); padding: 1.2rem; width: 280px; z-index: 100; opacity: 0; transform: translateY(-10px); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); pointer-events: none; }
.filter-tooltip.show { opacity: 1; transform: translateY(0); pointer-events: all; }
.tooltip-arrow { position: absolute; top: -10px; right: 20px; width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 10px solid white; }
.tooltip-content { margin-bottom: 1rem; }
.tooltip-content h4 { margin-bottom: 0.5rem; font-size: 1rem; color: var(--text-color, #000000); }
.tooltip-content p { font-size: 0.9rem; color: #666; line-height: 1.4; }
.tooltip-actions { display: flex; justify-content: flex-end; }
.tooltip-btn { padding: 0.6rem 1.2rem; border-radius: 6px; border: none; cursor: pointer; font-weight: 500; transition: all 0.3s ease; font-size: 0.9rem; }
.tooltip-btn.primary { background: #4CAF50; color: white; }
.tooltip-btn.primary:hover { background: #45a049; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3); }
@media (max-width: 480px) { .categories-panel { max-width: 100%; } .panel-header { padding: 1.2rem; } .panel-header h2 { font-size: 1.3rem; } .price-filter-section, .accordion-header { padding: 1rem 1.2rem; } .action-buttons { padding: 1.2rem; } .filter-tooltip { width: 250px; right: 5px; } }
@media (min-width: 768px) { .categories-panel { max-width: 400px; } }
.filter-option:focus, .action-btn:focus, .tooltip-btn:focus { outline: 2px solid var(--primary-color, #ff004d); outline-offset: 2px; }
@media (prefers-contrast: high) { .filter-option.active { outline: 2px solid #000; } .action-btn { border: 1px solid #000; } }
@media (prefers-reduced-motion: reduce) { .categories-panel, .panel-overlay, .accordion-content, .filter-options, .filter-option, .action-btn, .filter-tooltip { transition: none; } .glowing-dot, .header-filter-dot { animation: none; } }
.search-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--background-color); z-index: 1002; display: none; }
.search-overlay.active { display: flex; align-items: flex-start; justify-content: center; padding-top: 20%; }
.search-container { width: 90%; max-width: 600px; }
.search-close { background: none; border: none; font-size: 1.5rem; cursor: pointer; margin-bottom: 2rem; }
.search-input { width: 100%; padding: 1.5rem; border: 1px solid var(--border-color); font-size: 1.1rem; }
.toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 12px 24px; border-radius: 4px; z-index: 10000; font-size: 14px; opacity: 0; transition: opacity 0.3s ease; }
.toast.show { opacity: 1; }
.toast.success { background: #4CAF50; }
.search-panel { position: fixed; top: 0; right: -100%; width: 100%; max-width: 400px; height: 100vh; background: white; box-shadow: -2px 0 10px rgba(0,0,0,0.1); z-index: 1003; transition: right 0.3s ease; padding: 2rem; }
.search-panel.active { right: 0; }
.search-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
.close-search { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
.search-input-container { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
#searchInput { flex: 1; padding: 1rem; border: 1px solid #e5e5e5; font-size: 1rem; }
#searchButton { background: #000; color: white; border: none; padding: 1rem 1.5rem; cursor: pointer; }
.search-suggestions { max-height: 300px; overflow-y: auto; }
.suggestion { padding: 0.75rem 1rem; border-bottom: 1px solid #f0f0f0; cursor: pointer; }
.suggestion:hover { background: #f9f9f9; }
.no-suggestions { padding: 1rem; text-align: center; color: #666; }
.search-panel-overlay { content: ''; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.5); z-index: 1002; display: none; }
.search-panel-overlay.active { display: block; }
.success-message { background: #d4edda; color: #155724; padding: 1rem; border-radius: 4px; border: 1px solid #c3e6cb; margin-bottom: 0.5rem; }
.did-you-mean { background: #fff3cd !important; color: #856404 !important; border: 1px solid #ffeaa7 !important; }
.did-you-mean:hover { background: #ffeaa7 !important; }
#clearSearchButton { background: #f8f8f8 !important; border: 1px solid #ddd !important; padding: 0.5rem 1rem !important; margin-left: 1rem !important; cursor: pointer !important; border-radius: 4px !important; font-size: 0.9rem !important; transition: all 0.3s ease !important; }
#clearSearchButton:hover { background: #e8e8e8 !important; border-color: #ccc !important; }
.footer { background: #535357; color: var(--background-color); padding: 3rem 0 6rem; margin-top: auto; width: 100%; }
.footer-content { display: grid; grid-template-columns: 1fr; gap: 2rem; width: 100%; }
.footer-section { margin-bottom: 2rem; width: 100%; }
.footer-section h3 { font-size: 1.2rem; margin-bottom: 1rem; position: relative; padding-bottom: 0.5rem; }
.footer-section h3::after { content: ''; position: absolute; bottom: 0; left: 0; width: 40px; height: 2px; background-color: var(--primary-color); }
.footer-section p { margin-bottom: 0.3rem; font-size: 0.9rem; }
.footer .container { padding: 0 25px !important; }
.logo-container { width: 80px; height: 80px; margin-bottom: 1rem; border-radius: 8px; overflow: hidden; background-color: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; }
.logo-image { width: 100%; height: 100%; object-fit: contain; padding: px; }
.designer-logo-container { width: 80px; height: 80px; margin-bottom: 1rem; border-radius: 8px; overflow: hidden; background-color: rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; }
.designer-logo-image { width: 100%; height: 100%; object-fit: contain; padding: 0px; }
.newsletter-section { background-color: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; width: 100%; }
.newsletter-section h3 { color: #ffffff; font-size: 1.3rem; margin-bottom: 0.5rem; }
.newsletter-section p { margin-bottom: 1rem; font-size: 0.9rem; opacity: 0.9; }
.email-form { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 0.5rem; width: 100%; }
.email-input { padding: 0.8rem 1rem; border: none; border-radius: 4px; font-size: 0.9rem; width: 100%; }
.submit-btn { background-color: #D4AF37; color: white !important; border: none; padding: 0.8rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: bold; transition: all 0.3s; width: 100%; max-width: 150px; box-shadow: 0 0 5px rgba(212, 175, 55, 0); }
.submit-btn:hover, .submit-btn.valid-email { box-shadow: 0 0 10px 2px rgba(212, 175, 55, 0.7); }
.privacy-assurance { display: flex; align-items: center; font-size: 0.8rem; opacity: 0.7; }
.privacy-assurance i { margin-right: 0.5rem; }
.contact-info p { display: flex; align-items: center; margin-bottom: 0.8rem; }
.contact-info i { margin-right: 0.8rem; width: 16px; text-align: center; }
.social-icons { display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; }
.social-icon { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: rgba(255, 255, 255, 0.1); border-radius: 50%; color: white; text-decoration: none; transition: all 0.3s ease; }
.social-icon:hover { background-color: var(--primary-color); transform: translateY(-3px); }
.designer-credits { display: flex; flex-direction: column; align-items: flex-start; }
.footer a, .footer button { color: var(--background-color); transition: color 0.3s; text-decoration: none; }
.footer a:hover, .footer button:hover { color: var(--primary-color); }
.social-icon:hover { color: white !important; background-color: var(--primary-color); }
.copyright { text-align: center; padding-top: 2rem; margin-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.1); font-size: 0.8rem; opacity: 0.7; grid-column: 1 / -1; width: 100%; }
@media (min-width: 576px) { .footer-content { grid-template-columns: repeat(2, 1fr); } .email-form { flex-direction: row; align-items: flex-end; } .email-input { flex: 1; } .submit-btn { width: auto; } }
@media (min-width: 768px) { .footer-content { grid-template-columns: repeat(2, 1fr); } .newsletter-section { grid-column: 1 / -1; } }
@media (min-width: 992px) { .footer-content { grid-template-columns: repeat(4, 1fr); } .newsletter-section { grid-column: auto; } .copyright { grid-column: 1 / -1; } }
@media (min-width: 768px) { .desktop-nav { display: flex; } .mobile-bottom-nav { display: none; } .product-grid { grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 767px) { .mobile-only .fa-tags { font-size: 1.5rem !important; transform: translateY(1px); } .mobile-only[onclick="openCategories()"] { padding: 10px 12px !important; margin-left: 15px; } }
@media (max-width: 767px) { .header-content { gap: 10px !important; justify-content: space-between !important; } .mobile-only[onclick="openCategories()"] { margin-right: 16px !important; } }
@media (max-width: 767px) { .categories-panel { height: 100vh !important; top: 0 !important; border-bottom-left-radius: 0 !important; border-bottom-right-radius: 0 !important; } }
.mobile-bottom-nav .nav-item { position: relative !important; }
.mobile-bottom-nav .header-filter-dot { position: absolute; top: 5px; right: 50%; transform: translateX(12px); width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; }
.mobile-only .header-filter-dot { position: absolute; top: 5px; left: 8px; width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; }
.desktop-nav .header-filter-dot { position: absolute; top: 2px; left: 8px; width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; }
@media (max-width: 767px) { .categories-panel { display: flex; flex-direction: column; height: 100vh; } .panel-content { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; } .action-buttons { position: sticky; bottom: 0; background: white; border-top: 1px solid var(--border-color, #e5e5e5); padding: 1rem; z-index: 10; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); flex-shrink: 0; } .action-btn { padding: 1.2rem 1rem; font-size: 1rem; } }
@media (max-width: 767px) { .filter-sections { padding-bottom: 2rem; } }
.panel-header { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem; border-bottom: 1px solid var(--border-color, #e5e5e5); position: relative; background: white; flex-shrink: 0; }
.header-controls { display: flex; align-items: center; gap: 1rem; }
.close-panel-btn { background: none; border: none; font-size: 1.3rem; cursor: pointer; color: #666; padding: 0.5rem; border-radius: 50%; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; flex-shrink: 0; }
.close-panel-btn:hover { background: #f5f5f5; color: #333; }
@media (max-width: 767px) { .close-panel-btn { width: 44px; height: 44px; font-size: 1.4rem; } .panel-header { padding: 1.2rem 1.5rem; } }
.cart-count, .favourites-count { background: #25D366 !important; color: white !important; border-radius: 50% !important; width: 18px !important; height: 18px !important; font-size: 0.7rem !important; position: absolute !important; text-align: center !important; line-height: 18px !important; }
.favourites-count { background: #ff004d !important; }
.desktop-nav .favourites-count { top: -6px !important; right: 10px !important; }
.desktop-nav .cart-count { top: -6px !important; right: -5px !important; }
.mobile-bottom-nav .cart-count, .mobile-bottom-nav .favourites-count { top: -6px !important; right: 15px !important; }
.cart-count:empty, .favourites-count:empty { display: none !important; }
.cart-count:empty, .favourites-count:empty { display: none !important; }
@media (max-width: 767px) { .categories-panel { height: 90vh !important; top: 0 !important; border-bottom-left-radius: 20px !important; border-bottom-right-radius: 20px !important; } .categories-panel.active { left: 0 !important; width: 100% !important; max-width: 100% !important; } .panel-content { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; } }
#clearSearchButton { background: #4CAF50 !important; color: white !important; border: none !important; padding: 0.8rem 1.5rem !important; margin-left: 0.5rem !important; cursor: pointer !important; border-radius: 6px !important; font-size: 0.9rem !important; font-weight: 600 !important; text-transform: uppercase !important; letter-spacing: 0.5px !important; transition: all 0.3s ease !important; display: inline-block !important; white-space: nowrap !important; box-shadow: 0 2px 4px rgba(76, 175, 80, 0.3) !important; }
#clearSearchButton:hover { background: #45a049 !important; transform: translateY(-1px) !important; box-shadow: 0 4px 8px rgba(76, 175, 80, 0.4) !important; }
#clearSearchButton:active { transform: translateY(0) !important; box-shadow: 0 1px 2px rgba(76, 175, 80, 0.3) !important; }
.search-input-container #clearSearchButton { flex-shrink: 0; min-width: 80px; }
#searchInputMain { padding-left: 1.5rem !important; padding-right: 1rem !important; }
#searchInput { padding-left: 1.5rem !important; padding-right: 1rem !important; }
.section-header h2 { opacity: 0; transform: translateX(-50px); transition: all 1.2s ease-out; }
.section-header p { opacity: 0; width: 0; overflow: hidden; white-space: nowrap; margin: 0 auto; transition: all 2s ease-in-out 0.8s; }
.section-header.animated h2 { opacity: 1; transform: translateX(0); }
.section-header.animated p { opacity: 1; width: 100%; }
.section-header { text-align: center; }
.section-header p { display: inline-block; }
.search-panel.active .search-header h3 { position: relative; overflow: hidden; white-space: nowrap; margin: 0; animation: slowTypewriter 2.3s ease-in-out; width: 100%; }
@keyframes slowTypewriter { 0% { width: 0; } 100% { width: 100%; } }
body.panel-open { overflow: hidden; position: fixed; width: 100%; height: 100%; }
.categories-panel .panel-content, .search-panel .search-suggestions { overflow-y: auto; -webkit-overflow-scrolling: touch; }
.filter-options .filter-option[data-value="any"] { margin-top: 2rem !important; margin-bottom: 0.5rem !important; position: relative; background: #e8f5e9 !important; border: 2px dashed #66bb6a !important; color: #388e3c !important; font-weight: 600; }
.filter-options .filter-option[data-value="any"]::before { content: 'Default'; position: absolute; top: -0.8rem; left: 1rem; background: white; padding: 0 0.5rem; font-size: 0.7rem; color: #388e3c; font-weight: 600; }
.filter-options .filter-option[data-value="any"]:hover { background: #c8e6c9 !important; border-color: #4caf50 !important; color: #2e7d32 !important; }
.filter-options .filter-option[data-value="any"].active { background: #4CAF50 !important; border-color: #4CAF50 !important; color: white !important; }
.filter-options .filter-option[data-value="any"].active::before { color: white; background: #4CAF50; }
@media (min-width: 768px) { .categories-panel { transform: translateX(-100%); transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); left: 0 !important; } .categories-panel.active { transform: translateX(0); } }
@media (min-width: 576px) { .email-form { flex-direction: column !important; align-items: stretch !important; } .submit-btn { width: 100% !important; max-width: 100% !important; margin-top: 0.5rem; } }
body, h1, h2, h3, h4, h5, h6, p, span, div, a, button, input, textarea, select, label, li, td, th { font-family: 'Montserrat', sans-serif; }
h1, h2, h3, h4, h5, h6 { font-weight: 600; }
body, p, span, div { font-weight: 400; }
strong, b, .bold { font-weight: 700; }
.product-title, .product-price, .favourite-item-title, .cart-item-title { font-weight: 500; }
button, .btn, .action-btn, .submit-btn, .checkout-btn, .add-to-cart-btn { font-weight: 600; letter-spacing: 0.5px; }
.nav-item, .desktop-nav, .mobile-bottom-nav { font-weight: 500; }
.company-slogan { font-family: 'Pacifico', cursive !important; font-weight: 400; }
@media (max-width: 767px) { .header { border-bottom-left-radius: 20px !important; border-bottom-right-radius: 20px !important; } .mobile-bottom-nav { border-top-left-radius: 25px !important; border-top-right-radius: 25px !important; } }
@media (max-width: 767px) { .product-title { min-height: 2.8em !important; line-height: 1.4em !important; display: flex; align-items: center; } }
.add-to-cart-btn.in-cart { background: #25D366 !important; color: white !important; }
.add-to-cart-btn.in-cart::before { content: "âœ“ "; font-weight: bold; margin-right: 0.3rem; }
.nav-icon, .nav-item, .favourite-btn, .color-option, .gallery-arrow, .share-btn, .filter-option, .action-btn, .add-to-cart-btn, .add-to-cart, .add-to-favourites, .remove-favourite-btn, .remove-btn, .checkout-btn, .submit-btn, .social-icon { -webkit-tap-highlight-color: transparent !important; -webkit-touch-callout: none !important; -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; outline: none !important; }
.nav-icon:active, .nav-item:active, .favourite-btn:active, .color-option:active { transform: scale(0.95); transition: transform 0.1s ease; }
.nav-icon:focus-visible, .nav-item:focus-visible, .favourite-btn:focus-visible { outline: 2px solid #000 !important; outline-offset: 2px; }
.header-logo, .logo-image, .designer-logo-image, .product-image img, .gallery-slide img, .favourite-item-image img, .cart-item-image img, .recommendations-grid img { -webkit-tap-highlight-color: transparent !important; -webkit-touch-callout: none !important; -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; outline: none !important; border: none !important; }
.header-logo:focus, .logo-image:focus, .designer-logo-image:focus, .product-image img:focus, .gallery-slide img:focus { outline: none !important; box-shadow: none !important; }
a img { border: none !important; outline: none !important; }
a:has(img) { -webkit-tap-highlight-color: transparent !important; }
.product-card a:focus, .product-card img:focus { outline: none !important; }
.main-clear-filters { text-align: center; margin-bottom: 2rem; animation: fadeIn 0.3s ease; }
.main-clear-btn { background: #ff4444; color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; text-transform: uppercase; font-size: 0.9rem; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: inline-flex; align-items: center; gap: 0.5rem; box-shadow: 0 2px 8px rgba(255, 68, 68, 0.3); }
.main-clear-btn:hover { background: #cc0000; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(255, 68, 68, 0.4); }
.main-clear-btn:active { transform: translateY(0); }
.action-btn.clear-filters:disabled { background: #cccccc !important; color: #666666 !important; cursor: not-allowed !important; transform: none !important; box-shadow: none !important; }
.action-btn.clear-filters:disabled:hover { background: #cccccc !important; transform: none !important; box-shadow: none !important; }
.search-panel-blur .header, .search-panel-blur main, .search-panel-blur .mobile-bottom-nav, .search-panel-blur .footer { filter: blur(12px); pointer-events: none; }
.header, main, .mobile-bottom-nav, .footer { transition: filter 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
.global-loading-bar { position: fixed; top: 0; left: 0; width: 100%; height: 3px; z-index: 10000; pointer-events: none; opacity: 0; transition: opacity 0.5s ease; }
.global-loading-bar.active { opacity: 1; }
.loading-bar-track { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(90deg, rgba(255, 0, 77, 0.1) 0%, rgba(255, 107, 157, 0.1) 50%, rgba(255, 0, 77, 0.1) 100%); overflow: hidden; }
.loading-bar-progress { position: absolute; top: 0; left: 0; height: 100%; width: 0%; background: linear-gradient(90deg, #ff004d, #ff6b9d, #ff004d); background-size: 200% 100%; animation: loadingGradient 2s infinite linear, loadingFill 2.5s ease-in-out infinite; transform-origin: left; box-shadow: 0 0 10px rgba(255, 0, 77, 0.4); }
.loading-bar-pulse { position: absolute; top: 0; right: 0; height: 100%; width: 20px; background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent); animation: loadingPulse 2.5s ease-in-out infinite; filter: blur(1px); }
@keyframes loadingFill { 0% { width: 0%; transform: scaleX(1); } 20% { width: 30%; transform: scaleX(1); } 40% { width: 60%; transform: scaleX(1); } 60% { width: 75%; transform: scaleX(1); } 80% { width: 85%; transform: scaleX(1); } 90% { width: 92%; transform: scaleX(1); } 95% { width: 96%; transform: scaleX(1); } 98% { width: 98%; transform: scaleX(1); } 99% { width: 99%; transform: scaleX(1.02); } 100% { width: 100%; transform: scaleX(1); } }
@keyframes loadingGradient { 0% { background-position: 200% 0%; } 100% { background-position: -200% 0%; } }
@keyframes loadingPulse { 0% { opacity: 0; transform: translateX(0) scaleX(1); } 50% { opacity: 1; transform: translateX(-10px) scaleX(1.5); } 100% { opacity: 0; transform: translateX(-20px) scaleX(2); } }
.global-loading-bar.complete .loading-bar-progress { animation: loadingComplete 0.6s ease-out forwards; }
@keyframes loadingComplete { 0% { transform: scaleY(1); opacity: 1; } 50% { transform: scaleY(0.3); } 100% { transform: scaleY(0); opacity: 0; } }
.desktop-nav { display: none; align-items: center; gap: 1.5rem; }
.desktop-nav .nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: var(--text-color); font-size: 0.8rem; gap: 0.2rem; background: none; border: none; cursor: pointer; padding: 0.5rem; transition: color 0.2s ease; position: relative; }
.desktop-nav .nav-item i { font-size: 1.4rem; transition: transform 0.2s ease; }
.desktop-nav .nav-item:active i { transform: scale(0.9); }
.desktop-nav .nav-item:active { color: var(--primary-color); }
@media (min-width: 768px) { .desktop-nav { display: flex; } }
.mobile-only.nav-icon { display: flex !important; flex-direction: column; align-items: center; gap: 0.2rem; background: none; border: none; cursor: pointer; color: var(--text-color); padding: 0.5rem; position: relative; }
.mobile-only.nav-icon i { font-size: 1.4rem; transition: transform 0.2s ease; }
.mobile-only.nav-icon span { font-size: 0.7rem; font-weight: 500; }
.mobile-only.nav-icon:active i { transform: scale(0.9); }
.mobile-only.nav-icon:active { color: var(--primary-color); }
@media (min-width: 768px) { .mobile-only.nav-icon { display: none !important; } }
.desktop-nav .nav-item { position: relative; }
.desktop-nav .nav-item .header-filter-dot { position: absolute; top: 3px; right: 10px; width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; z-index: 1001; }
.mobile-bottom-nav .nav-item .header-filter-dot { position: absolute; top: 5px; right: 50%; transform: translateX(12px); width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; z-index: 1001; }
.mobile-only.nav-icon .header-filter-dot { position: absolute; top: 5px; right: 8px; width: 8px; height: 8px; background-color: #4CAF50; border-radius: 50%; box-shadow: 0 0 6px #4CAF50; animation: pulse 2s infinite; display: none; z-index: 1001; }
@media (max-width: 767px) { .section-header { white-space: normal !important; padding: 0 0.5rem !important; } .section-header p { white-space: normal !important; word-wrap: break-word !important; overflow-wrap: break-word !important; line-height: 1.3 !important; max-width: 100% !important; display: block !important; width: 100% !important; text-align: center; margin: 0.5rem auto !important; overflow: visible !important; padding: 0 1rem !important; font-size: 0.9rem !important; word-break: break-word !important; } .section-header.animated p { width: 100% !important; overflow: visible !important; } }
.search-suggestions { pointer-events: auto !important; }
.suggestion { pointer-events: auto !important; cursor: pointer !important; -webkit-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; }
.search-panel.active .search-suggestions { z-index: 1004 !important; position: relative !important; }
.search-panel { transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important; }
.search-panel-overlay { transition: opacity 0.4s ease !important; }
.search-suggestions { transition: opacity 0.3s ease !important; }
html { scroll-behavior: smooth; }
.filter-banner { width: 100%; overflow-x: auto; overflow-y: hidden; white-space: nowrap; padding: 1rem 0; margin-bottom: 2rem; border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); display: block; transition: opacity 0.5s ease, transform 0.5s ease; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; }
.filter-banner.hidden { opacity: 0; transform: translateY(-10px); pointer-events: none; }
.filter-banner-scroll { display: inline-flex; align-items: center; gap: 1rem; padding: 0 1rem; min-width: min-content; }
.filter-banner-option { background: none; border: none; font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: var(--text-color); cursor: pointer; padding: 0.5rem 0.75rem; transition: all 0.3s ease; -webkit-tap-highlight-color: transparent; white-space: nowrap; flex-shrink: 0; }
.filter-banner-option:hover { color: var(--primary-color); transform: translateY(-2px); }
.filter-banner-option:active { transform: scale(0.95); }
.filter-banner-option.active { color: var(--primary-color); font-weight: 800; }
.filter-separator { color: var(--border-color); font-weight: 300; user-select: none; flex-shrink: 0; }
.filter-banner::-webkit-scrollbar { height: 4px; }
.filter-banner::-webkit-scrollbar-track { background: transparent; margin: 0 10px; }
.filter-banner::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.2); border-radius: 2px; opacity: 0; transition: opacity 0.3s ease, background 0.3s ease; }
.filter-banner::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.4); }
.filter-banner:hover::-webkit-scrollbar-thumb { opacity: 1; }
.filter-banner { scrollbar-width: thin; scrollbar-color: transparent transparent; }
.filter-banner:hover { scrollbar-color: rgba(0, 0, 0, 0.2) transparent; }
.filter-banner:hover::-webkit-scrollbar-thumb:hover { scrollbar-color: rgba(0, 0, 0, 0.4) transparent; }
@media (max-width: 767px) { .filter-banner { padding: 0.75rem 0; -webkit-overflow-scrolling: touch; } .filter-banner-scroll { gap: 0.75rem; padding: 0 0.75rem; } .filter-banner-option { font-size: 0.7rem; padding: 0.4rem 0.6rem; } .filter-banner::-webkit-scrollbar-thumb { opacity: 0.3; } }
@media (max-width: 480px) { .filter-banner-scroll { gap: 0.5rem; padding: 0 0.5rem; } .filter-banner-option { font-size: 0.65rem; padding: 0.3rem 0.5rem; } }
</style>
</head>
<body>
    <div class="global-loading-bar">
        <div class="loading-bar-track">
            <div class="loading-bar-progress"></div>
            <div class="loading-bar-pulse"></div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
    <div class="container">
        <div class="header-content">
            <div class="logo"><a href="/"><img src="/assets/images/logos/tgz2.png" alt="theGirlyZone Uganda" class="header-logo"></a></div>
            <!-- Updated Desktop Navigation in header section -->
            <nav class="desktop-nav">
                <a href="/" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <button class="nav-item" onclick="openCategories()">
                    <i class="fas fa-tags"></i>
                    <span>Filters</span>
                </button>
                <button class="nav-item" data-open-search>
                    <i class="fas fa-search"></i>
                    <span>Search</span>
                </button>
                <a href="/favourites/" class="nav-item" style="position: relative;">
                    <i class="fas fa-heart"></i>
                    <span>Favourites</span>
                    <span class="favourites-count" style="display: none;">0</span>
                </a>
                <a href="/cart/" class="nav-item" style="position: relative;">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Cart</span>
                    <span class="cart-count" style="display: none;">0</span>
                </a>
            </nav>
            <button class="nav-icon mobile-only" onclick="openCategories()" style="display: none;">
                <i class="fas fa-tags"></i>
                <span>Filters</span>
            </button>
        </div>
    </div>
</header>
<!-- Categories Panel Overlay -->
<div class="panel-overlay" id="panelOverlay"></div>
<!-- Categories Panel -->
<div class="categories-panel" id="categoriesPanel">
    <div class="panel-header">
        <h2>Filter Products</h2>
        <div class="filter-indicator" id="filterIndicator">
            <div class="glowing-dot"></div>
            <span>Price Filter Active</span>
        </div>
        <div><button class="close-panel-btn" id="closePanelBtn">
                    <i class="fas fa-times"></i>
                </button>
        </div>
        <div class="filter-tooltip" id="filterTooltip">
            <div class="tooltip-arrow"></div>
            <div class="tooltip-content">
                <h4>Price Filter Active</h4>
                <p>You're currently viewing products within your selected price range.</p>
            </div>
            <div class="tooltip-actions">
                <button class="tooltip-btn primary" id="dismissTooltip">I Know</button>
            </div>
        </div>
    </div>
    
    <div class="panel-content">
        <div class="price-filter-section">
            <div class="price-header">
                <h3>Price Range</h3>
                <div class="price-display" id="priceDisplay">UGX 50,000</div>
            </div>
            <div class="price-slider-container">
                <input type="range" class="price-slider" id="priceSlider" min="2000" max="50000" value="50000">
            </div>
        </div>
        
        <div class="filter-sections" id="filterSections">
            <div class="accordion-section active">
                <div class="accordion-header">
                    <h3>Categories</h3>
                    <i class="fas fa-chevron-down accordion-icon"></i>
                </div>
                <div class="accordion-content">
                    <div class="filter-options">
                        <button class="filter-option active" data-filter="category" data-value="any">Any Category</button>
                        <button class="filter-option" data-filter="category" data-value="dresses">Dresses</button>
                        <button class="filter-option" data-filter="category" data-value="sets">Sets</button>
                        <button class="filter-option" data-filter="category" data-value="bags">Bags</button>
                        <button class="filter-option" data-filter="category" data-value="bottoms">Bottoms</button>
                        <button class="filter-option" data-filter="category" data-value="tops">Tops</button>
                        <button class="filter-option" data-filter="category" data-value="accessories">Accessories</button>
                    </div>
                </div>
            </div>
            
            <div class="accordion-section">
                <div class="accordion-header">
                    <h3>Moods</h3>
                    <i class="fas fa-chevron-down accordion-icon"></i>
                </div>
                <div class="accordion-content">
                    <div class="filter-options">
                        <button class="filter-option active" data-filter="mood" data-value="any">Any Mood</button>
                        <button class="filter-option" data-filter="mood" data-value="elegant">Elegant</button>
                        <button class="filter-option" data-filter="mood" data-value="romantic">Romantic</button>
                        <button class="filter-option" data-filter="mood" data-value="free">Free</button>
                        <button class="filter-option" data-filter="mood" data-value="smart">Smart</button>
                    </div>
                </div>
            </div>
            
            <div class="accordion-section">
                <div class="accordion-header">
                    <h3>Occasions</h3>
                    <i class="fas fa-chevron-down accordion-icon"></i>
                </div>
                <div class="accordion-content">
                    <div class="filter-options">
                        <button class="filter-option active" data-filter="occasion" data-value="any">Any Occasion</button>
                        <button class="filter-option" data-filter="occasion" data-value="office">Office</button>
                        <button class="filter-option" data-filter="occasion" data-value="casual">Casual</button>
                        <button class="filter-option" data-filter="occasion" data-value="vacation">Vacation</button>
                        <button class="filter-option" data-filter="occasion" data-value="party">Party</button>
                        <button class="filter-option" data-filter="occasion" data-value="date">Date</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="action-buttons">
        <button class="action-btn clear-filters" id="clearFilters">Clear Filters</button>
        <button class="action-btn apply-filters" id="applyFilters">Apply Filters</button>
    </div>
</div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
        <a href="/" class="nav-item"><i class="fas fa-home"></i><span>Home</span></a>
        <button class="nav-item" data-open-search><i class="fas fa-search"></i><span>Search</span></button>
        <a href="/favourites/" class="nav-item" style="position: relative;">
            <i class="fas fa-heart"></i>
            <span>Favourites</span>
            <span class="favourites-count" style="display: none;">0</span>
        </a>
        <a href="/cart/" class="nav-item" style="position: relative;">
            <i class="fas fa-shopping-bag"></i>
            <span>Cart</span>
            <span class="cart-count" style="display: none;">0</span>
        </a>
    </nav>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-slide active">
                <img src="/assets/images/hero-section/h3.webp" alt="New Collection">
                <!--<div class="hero-content">
                    <h1>New Arrivals</h1>
                    <p>Latest Collection is Here!</p>
                    <button class="hero-btn">Shop Now</button> 
                </div> -->
            </div>
            <div class="hero-slide">
                <img src="/assets/images/hero-section/h2.webp" alt="Summer Collection">
                <!--<div class="hero-content">
                    <h1>Summer Essentials</h1>
                    <p>Perfect pieces for warm days</p>
                    <button class="hero-btn">Explore</button>
                </div>-->
            </div>
            <div class="hero-slide">
                <img src="/assets/images/hero-section/h1.webp" alt="Summer Collection">
                <!--<div class="hero-content">
                    <h1>Summer Essentials</h1>
                    <p>Perfect pieces for warm days</p>
                    <button class="hero-btn">Explore</button>
                </div>-->
            </div>
        </section>

       

        <section class="product-grid-section">
            <div class="container">
                <!-- NORMAL HOMEPAGE MODE - SHOW ALL FEATURED PRODUCTS -->
                <div class="section-header">
                    <h2 id="sectionTitle">New Arrivals</h2>
                    <p id="sectionSubtitle">Latest additions to our collection</p>
                </div>

                 <!-- Add this right after the product grid section header -->
    <div id="filterBanner" class="filter-banner">
        <div class="filter-banner-scroll">
            <!-- Categories -->
            <span class="filter-separator"><strong>|-|</strong></span>
            <button class="filter-banner-option" data-filter="category" data-value="dresses">DRESSES</button>
            <button class="filter-banner-option" data-filter="category" data-value="bags">BAGS</button>
            <button class="filter-banner-option" data-filter="category" data-value="sets">SETS</button>
            <button class="filter-banner-option" data-filter="category" data-value="bottoms">BOTTOMS</button>
            <button class="filter-banner-option" data-filter="category" data-value="tops">TOPS</button>
            <button class="filter-banner-option" data-filter="category" data-value="accessories">ACCESSORIES</button>
            
            <!-- Moods -->
            <span class="filter-separator"><strong>|-|</strong></span>
            <button class="filter-banner-option" data-filter="mood" data-value="elegant">ELEGANT</button>
            <button class="filter-banner-option" data-filter="mood" data-value="romantic">ROMANTIC</button>
            <button class="filter-banner-option" data-filter="mood" data-value="casual">CASUAL</button>
            <button class="filter-banner-option" data-filter="mood" data-value="office">OFFICE</button>
            
            <!-- Occasions -->
            <span class="filter-separator"><strong>|-|</strong></span>
            <button class="filter-banner-option" data-filter="occasion" data-value="casual">CASUAL</button>
            <button class="filter-banner-option" data-filter="occasion" data-value="vacation">VACATION</button>
            <button class="filter-banner-option" data-filter="occasion" data-value="party">PARTY</button>
            <button class="filter-banner-option" data-filter="occasion" data-value="office">OFFICE</button>
            <button class="filter-banner-option" data-filter="occasion" data-value="date">DATE</button>
        </div>
    </div>

                <!-- ðŸ†• CLEAR FILTERS BUTTON FOR MAIN DISPLAY -->
                <div id="mainClearFiltersContainer" class="main-clear-filters" style="display: none; text-align: center; margin-bottom: 2rem;">
                    <button class="main-clear-btn" id="mainClearFilters">
                        <i class="fas fa-times"></i>
                        Clear All Filters
                    </button>
                </div>

                <div id="productGrid" class="product-grid">
    {% assign featured_products = products | where: "featured", true | sort: "id" | reverse %}
    {% for product in featured_products %}
        <div class="product-card" data-product-id="{{ product.id }}" data-product-data='{{ product | json | escape }}'>
            <div class="product-image">
                <a href="/product/{{ product.slug }}/">
                    <img src="/assets/images/main/{{ product.mainImages[0] }}" alt="{{ product.title }}" loading="lazy">
                </a>
                <button class="favourite-btn" data-product-id="{{ product.id }}">
                    <i class="far fa-heart"></i>
                </button>
            </div>
            <div class="product-info">
                <h3 class="product-title">{{ product.title }}</h3>
                <p class="product-price">UGX {{ product.price | formatNumber }}</p>
                
                {% if product.colors.length > 0 %}
                <div class="color-selector">
                    {% for color in product.colors %}
                    <button class="color-option {% if forloop.first %}active{% endif %}" 
                            data-product-slug="{{ product.slug }}"
                            data-color-index="{{ forloop.index0 }}"
                            style="background-color: {{ color.code }}"
                            aria-label="{{ color.name }}"
                            onclick="navigateToProductWithColor('{{ product.slug }}', {{ forloop.index0 }})">
                    </button>
                    {% endfor %}
                </div>
                {% endif %}
                
                <button class="add-to-cart-btn" data-product-id="{{ product.id }}">
                    Add to Cart
                </button>
            </div>
        </div>
    {% endfor %}
</div>
                
                <!-- DEBUG: Show all products count -->
                <div style="text-align: center; margin-top: 2rem; color: #666; font-size: 0.9rem;">
                    Total products: {{ products.length }} | Featured products: {{ products | where: "featured", true | size }}
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
    <div class="container">
        <div class="footer-content">
            <!-- Newsletter Section -->
            <div class="footer-section newsletter-section">
                <h3>DON'T MISS OUT ON THE LATEST DROPS!</h3>
                <p>Subscribe to our newsletter for exclusive updates and early access to new collections.</p>
                <form class="email-form" netlify name="newsletter-subscriptions">
                    <input type="email" class="email-input" id="emailInput" name="email" placeholder="Enter your email" required>
                    <button type="submit" class="submit-btn" id="submitBtn">JOIN</button>
                </form>
                <div class="privacy-assurance">
                    <i class="fas fa-lock"></i>
                    <span>We respect your privacy and never share your information</span>
                </div>
            </div>
            
            <!-- Contact Information -->
            <div class="footer-section">
                <div class="logo-container">
                    <img src="/assets/images/logos/tgz.png" alt="theGirlyZone Uganda" class="logo-image">
                </div>
                <h3>Contact Us</h3>
                <div class="contact-info">
                    <p><i class="fas fa-phone"></i> <a href="tel:+256777645472">+256 777 645 472</a></p>
                    <p><i class="fas fa-phone"></i> <a href="tel:+256756588826">+256 756 588 826</a></p>
                    <p><i class="fas fa-phone"></i> <a href="tel:+256752066276">+256 752 066 276</a></p>
                    <p><i class="fas fa-envelope"></i> <a href="mailto:thegirlyzone098@gmail.com">thegirlyzone098@gmail.com</a></p>
                    <p><i class="fas fa-map-marker-alt"></i> Top City Plaza opposite Ham Shopping Grounds<br>Shop No. LT 78<br>Kampala, Uganda</p>
                    <p><i class="fas fa-clock"></i> Monday - Saturday: 7:30 AM - 7:30 PM<br>Sunday: 11:00 AM - 6:30 PM</p>
                </div>
            </div>
            
            <!-- Social Media -->
            <div class="footer-section">
                <h3>FOLLOW US</h3>
                <p>Stay connected with us on social media</p>
                <div class="social-icons">
                    <a href="https://www.facebook.com/profile.php?id=61581841650975&mibextid=ZbWKwL" class="social-icon" target="_blank">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/thegirlyzone256?igsh=MXd3b29oOWRuN3h1cA==" class="social-icon" target="_blank">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@the_girlyzone07?_t=ZM-8zM9BHadNIb&_r=1" class="social-icon" target="_blank">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://whatsapp.com/channel/0029Vb5WMMdDJ6GtKChLhR0m" class="social-icon" target="_blank">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
            
            <!-- Designer Credits -->
            <div class="footer-section designer-credits">
                <div class="designer-logo-container">
                    <img src="/assets/images/logos/mdh.png" alt="Marvin's DesignHouse" class="designer-logo-image">
                </div>
                <h3>WEBSITE DESIGNER CREDITS</h3>
                <p><strong>Business:</strong> Marvin's DesignHouse</p>
                <p><i class="fas fa-phone"></i> <a href="tel:0706338694">0706 338 694</a><strong> | </strong><a href="tel:0780537744">0780 537 744</a></p>
                <p><i class="fas fa-envelope"></i> <a href="mailto:marvinsdesignhouse@gmail.com">marvinsdesignhouse@gmail.com</a></p>
                <p><em>"Get your stunning online-store today and elevate your business!"</em></p>
            </div>
            
            <!-- Copyright -->
            <div class="copyright">
                <p>Â© All content on this <strong>website is owned by theGirlyZone and Marvin's DesignHouse</strong>, and protected by copyright law. Reproduction or distribution without permission may result in legal action.</p>
            </div>
        </div>
    </div>
</footer>

    <!-- Search Overlay -->
    <div id="searchOverlay" class="search-overlay">
        <div class="search-container">
            <button class="search-close" onclick="closeSearch()"><i class="fas fa-times"></i></button>
            <input type="text" id="searchInput" placeholder="Search products..." class="search-input">
            <div id="searchSuggestions" class="search-suggestions"></div>
        </div>
    </div>

        <!-- Search Panel -->
        <div id="searchPanel" class="search-panel">
            <div class="search-header">
                <h3>Search Products</h3>
                <button class="close-search">Ã—</button>
            </div>
            
            <div class="search-input-container">
                <input type="text" id="searchInputMain" placeholder="Looking for?">
                <button id="searchButton">Search</button>
            </div>
            
            <div id="searchSuggestionsMain" class="search-suggestions">
                <!-- Suggestions will appear here automatically -->
            </div>
        </div>

    <!-- Search Panel Overlay -->
    <div class="search-panel-overlay" id="searchPanelOverlay"></div>

    
    <!-- Toast Container -->
    <div id="toastContainer" class="toast"></div>

    <script src="/assets/js/search-panel.js"></script>
           <script>
        // ðŸŽ¯ðŸŽ¯ðŸŽ¯ SECTION: SEARCH DATA MAPPING
        // âš ï¸  IMPORTANT: This powers the search functionality across the site
        // ðŸ“ LOCATION: index.html - Search data initialization
        // ðŸ”„ UPDATE: Add new keywords when adding products or improving search

        // ðŸŸ¦ðŸŸ¦ðŸŸ¦ LOAD SEARCH DATA - FIXED VERSION ðŸŸ¦ðŸŸ¦ðŸŸ¦
        window.searchData = {
            
            // ðŸŽ¨ COLORS & DESCRIPTIONS
            "black": [2, 5, 6, 7, 8, 10, 22, 25, 36, 39],
            "blue": [1, 3, 4, 5, 10, 17, 34, 35, 37],
            "pink": [10, 5, 18, 31],
            "brown": [9],
            "white": [7, 9],
            "gold": [6, 11],
            "red": [3, 4, 5, 31, 42],
            "green": [1, 5, 21, 23, 32, 40, 43, 45, 46],
            "silver": [11, 12],
            "lavender": [16],
            
            // ðŸ‘— PRODUCT TYPES
            "dress": [7, 8, 10],
            "skirt": [2, 3, 6, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47],
            "tote": [1],
            "bag": [1],
            "shirt": [5],
            "trousers": [8],
            "tops": [5, 9, 34],
            "crossbody": [10],
			"mini": [2, 34, 36, 47, 48],
            "two piece": [4, 26, 28, 30, 31], 
            "2 piece": [4, 26, 28, 30, 31],
            "necklace": [11, 12, 13, 14, 15],
            "jewelry": [11, 12, 13, 14, 15],
            "accessories": [11, 12, 13, 14, 15],
            "pajama": [4, 26, 28, 30, 31, 33, 34, 35],
            "set": [4, 26, 28, 30, 31],
            "long skirt": [37, 38, 39, 40, 45, 46],
            
            // ðŸŒŸ STYLES & MOODS
            "elegant": [1, 4, 6, 8, 10],
            "professional": [5, 6, 8],
            "short sleeve": [1, 9],
            "formal": [1, 3, 5, 6],
            "casual": [1, 2, 3, 4, 5, 7, 8, 9, 10, 26, 30, 31, 32, 33, 34, 35, 37, 38, 41, 43, 45, 46, 47],
            "business": [3, 5, 8, 6],
            "practicle": [10],
            "free": [1, 2, 3, 4, 5, 7, 8, 9, 10, 26, 28, 30, 31],
            "vintage":[3, 7],
            "sleep": [4, 26, 28, 30, 31, 33, 34, 35],
            "long sleeved": [5, 26, 28, 30, 31],
            "excecutive": [6, 8],
            "luxurious": [11, 12, 13, 14, 15, 18, 21, 22, 23, 25],
            "wrap": [17, 22, 36, 37, 38, 40, 42, 44, 47],
            "romantic": [1, 2, 4, 5, 20, 23, 42],
            "tie": [37, 47],
            
            // ðŸŒ¿ MATERIALS & FABRICS
            "linen": [3, 8],
            "cotton": [6, 10, 9, 16, 17, 19, 20, 21, 22, 24, 25, 26, 28, 30, 31, 32, 33, 34, 35, 36],
            "silk": [3, 18, 23, , 26, 28, 30, 31, 33, 34, 35],
            "mesh": [7],
            "comfortable": [2, 3, 4, 9, 16, 19, 20, 23, 24, , 26, 28, 30, 31, 32, 33, 34, 35, 37, 38, 45, 46],
            "free": [1, 3, 4, 5, , 26, 28, 30, 31, 33, 34, 35, 39],
            
            // ðŸŽ‰ SEASONS & OCCASIONS
            "hot day": [2, 3, 6, 7],
            "office": [1, 3, 7, 5, 8, 36, 40],
            "everyday": [9],
            "floral": [2, 11, 16, 22, 20, 37, 38, 39, 41, 42, 44, 46, 47],
            "day time": [5, 7],
            "night": [4, 8],
            "layering": [5],
            "party": [8, 34, 42, 48],
            "beach": [19, 22],
            "vacation": [2, 6, 32, 45],

            // ðŸ‘€ PRODUCT NAMES
            "ribbed frill wrap dress": [10],
            "midnight bloom ruffle mini": [9],
            "floral red wrap skirt": [3],
            "checkered pajama set": [4],
            "classic striped button shirt": [5],
            "gold button skirt": [6],
            "floral mesh dress": [7],
            "black bodycon party dress": [8],
            "striped cotton top": [2],
            "nike tote delight": [1],
            "the gilded rose": [11],
            "the frost foliage": [12],
            "the silver talon": [13],
            "the silver cleat": [14],
            "the silver blade": [15],
            "violet bloom wrap skirt": [16],
            "art deco mirage skirt": [17],
            "dream silk skirt": [18],
            "tropical breeze ruffle skirt": [19],
            "bordeaux floral wrap skirt": [20],
            "emerald garden wrap skirt": [21],
            "midnight meadow ruffle skirt": [22],
            "mint green wrap skirt": [23],
            "sunlit meadow wrap skirt": [24],
            "midnight dot ruched skirt": [25],
            "lime glow pajamas": [26],
            "classy rust ruffle dress": [27],
            "purple floral pajamas": [28],
            "midnight pleated mini dress": [29],
            "classy floral silk pajama": [30],
            "trendy art pajamas": [31],
            "emerald floral tea dress": [32],
            "classy rose satin pajama": [33],
            "diamond flare set": [34],
            "zebra pattern pajama set": [35],
            "gingham wrap short skirt": [36],
            "blue floral wrap skirt": [37],
            "yellow florals wrap skirt": [38],
            "black floral wrap skirt": [39],
            "green daisy wrap skirt": [40],
            "red floral ruffled skirt": [41],
            "mini ruffle tie skirt": [42],
            "green floral ruffle skirt": [43],
            "short-floral ruffle skirt": [44],
            "green leaf floral skirt": [45],
            "green mix floral skirt": [46],
            "navy floral wrap skirt": [47],
            "orange ruched bodycon skirt": [48],
            
        };
        // ðŸŸ¦ðŸŸ¦ðŸŸ¦ END SEARCH DATA ðŸŸ¦ðŸŸ¦ðŸŸ¦
        

        console.log('Search data loaded:', window.searchData);
        function openSearch() {
            document.getElementById('searchOverlay').classList.add('active');
            document.getElementById('searchInput').focus();
        }

        function closeSearch() {
            document.getElementById('searchOverlay').classList.remove('active');
        }
        // Hero Slider
        let currentSlide = 0;
        const slides = document.querySelectorAll('.hero-slide');
        
        function nextSlide() {
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }
        
        setInterval(nextSlide, 5000);

        // Mobile Detection
        function checkMobile() {
            const mobileCategoriesBtn = document.querySelector('.mobile-only');
            if (window.innerWidth < 768) {
                mobileCategoriesBtn.style.display = 'block';
            } else {
                mobileCategoriesBtn.style.display = 'none';
            }
        }
        window.addEventListener('resize', checkMobile);
        checkMobile();

        // Close search on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeSearch();
            }
        });

        // Product Interaction Functions
        function attachProductEventListeners() {
            // Color selection
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', function() {
                    const productCard = this.closest('.product-card');
                    productCard.querySelectorAll('.color-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
        }
        
        // Attach event listeners when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            
            
            // Initialize search panel
            if (typeof SearchPanel !== 'undefined') {
                new SearchPanel();
            }
        });

       

class CategoriesPanel {
    constructor() {
        this.panel = document.getElementById('categoriesPanel');
        this.overlay = document.getElementById('panelOverlay');
        this.priceSlider = document.getElementById('priceSlider');
        this.priceDisplay = document.getElementById('priceDisplay');
        this.filterIndicator = document.getElementById('filterIndicator');
        this.headerFilterDot = null;
        this.applyBtn = document.getElementById('applyFilters');
        this.clearBtn = document.getElementById('clearFilters');
        this.closeBtn = document.getElementById('closePanelBtn');
        this.mainClearBtn = document.getElementById('mainClearFilters');
        this.mainClearContainer = document.getElementById('mainClearFiltersContainer');
        
        this.isPriceFilterActive = false;
        this.hasAnyFilter = false;
        this.currentFilters = {
            category: 'any',
            mood: 'any',
            occasion: 'any',
            price: 50000
        };


        //=================================================================================================================================================================================
        this.filterProductIds = {
            'dresses': [1, 7, 27, 29],
            'bags': [1],
            'sets': [4, 26, 28, 30, 31],
            'bottoms': [9, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25],
            'tops': [2, 5],
            'elegant': [1, 2, 3, 4, 6, 7, 10, 11, 20, 21, 29, 36, 42, 43],
            'romantic': [1, 2, 4, 5, 20, 23, 42],
            'free': [2, 3, 4, 5, 6,  9, 10, 8, 7, 16, 23, 26,28, 30, 31, 32, 33, 34, 35, 37, 38, 39, 40, 42, 44, 45, 46, 47],
            'casual': [2, 3, 4, 5, 6,  9, 10, 8, 7, 16, 23, 26, 28, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 46, 47],
            'office': [3, 8, 16, 24, 25, 27, 29, 34, 36, 37, 38, 39, 40, 41],
            'vacation': [2, 6, 44, 45, 47],
            'party': [1, 4, 2, 3, 6, 8, 10, 34, 42, 44, 47, 48],
            'everyday': [1, 9],
            'accessories': [11, 12, 13, 14, 15],
            'date': [17, 18, 20, 21, 23, 25, 27, 42, 44],
        };
        //================================================================================================================================================================================
        
        this.init();
        this.createHeaderDot();
        this.updateClearButtonsState();
    }

    // ðŸ†• NEW METHOD: Clear search results when filters are applied
    clearSearchResults() {
        // Check if search panel instance exists and search is active
        if (window.searchPanel && window.searchPanel.isSearchActive) {
            window.searchPanel.clearSearchFilter();
            console.log('ðŸŽ¯ Categories: Search results cleared');
        }
        
        // Also remove any search clear button
        const searchClearButton = document.getElementById('clearSearchButton');
        if (searchClearButton) {
            searchClearButton.remove();
        }
    }
    
    init() {
        document.querySelectorAll('[onclick="openCategories()"], .nav-icon .fa-tags').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.open();
            });
        });
        
        this.overlay.addEventListener('click', () => this.close());
        this.closeBtn.addEventListener('click', () => this.close());
        this.priceSlider.addEventListener('input', (e) => this.handlePriceSlider(e));
        this.applyBtn.addEventListener('click', () => this.applyFilters());
        this.clearBtn.addEventListener('click', () => this.clearFilters());
        
        if (this.mainClearBtn) {
            this.mainClearBtn.addEventListener('click', () => this.clearFilters());
        }
        
        document.querySelectorAll('.filter-option').forEach(option => {
            option.addEventListener('click', (e) => this.handleFilterSelection(e));
        });
        
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', (e) => this.handleAccordion(e));
        });
        
        document.getElementById('dismissTooltip')?.addEventListener('click', () => this.dismissTooltip());
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.panel.classList.contains('active')) {
                this.close();
            }
        });
    }
    
    createHeaderDot() {
        // Create dot for desktop navigation
        const desktopNavItem = document.querySelector('.desktop-nav .nav-item[onclick="openCategories()"], .desktop-nav .nav-item:has(.fa-tags)');
        if (desktopNavItem && !desktopNavItem.querySelector('.header-filter-dot')) {
            const filterDot = document.createElement('div');
            filterDot.className = 'header-filter-dot';
            desktopNavItem.style.position = 'relative';
            desktopNavItem.appendChild(filterDot);
            console.log('âœ… Desktop filter dot created');
        }

        // Create dot for mobile bottom navigation
        const mobileBottomNavItem = document.querySelector('.mobile-bottom-nav .nav-item:has(.fa-tags)');
        if (mobileBottomNavItem && !mobileBottomNavItem.querySelector('.header-filter-dot')) {
            const filterDot = document.createElement('div');
            filterDot.className = 'header-filter-dot';
            mobileBottomNavItem.style.position = 'relative';
            mobileBottomNavItem.appendChild(filterDot);
            console.log('âœ… Mobile bottom nav filter dot created');
        }

        // Create dot for mobile header button
        const mobileHeaderBtn = document.querySelector('.mobile-only.nav-icon:has(.fa-tags)');
        if (mobileHeaderBtn && !mobileHeaderBtn.querySelector('.header-filter-dot')) {
            const filterDot = document.createElement('div');
            filterDot.className = 'header-filter-dot';
            mobileHeaderBtn.style.position = 'relative';
            mobileHeaderBtn.appendChild(filterDot);
            console.log('âœ… Mobile header filter dot created');
        }

        // Store reference to all dots for easy access
        this.headerFilterDots = document.querySelectorAll('.header-filter-dot');
        console.log('Total filter dots found:', this.headerFilterDots.length);
    }
    
    open() {
        this.panel.classList.add('active');
        this.overlay.classList.add('active');
        document.body.classList.add('main-content-blur');
    }
    
    close() {
        this.panel.classList.remove('active');
        this.overlay.classList.remove('active');
        document.body.classList.remove('main-content-blur');
        
        setTimeout(() => {
            const productGridSection = document.querySelector('.product-grid-section');
            if (productGridSection) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = productGridSection.offsetTop - headerHeight - 20;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        }, 100);
    }
    
    handlePriceSlider(e) {
        const value = parseInt(e.target.value);
        this.priceDisplay.textContent = `UGX ${value.toLocaleString()}`;
        this.checkIfAnyFilterActive();
    }
    
    handleFilterSelection(e) {
        const option = e.target;
        const filterType = option.dataset.filter;
        const filterValue = option.dataset.value;
        
        document.querySelectorAll(`[data-filter="${filterType}"]`).forEach(opt => {
            opt.classList.remove('active');
        });
        
        option.classList.add('active');
        this.currentFilters[filterType] = filterValue;
        this.checkIfAnyFilterActive();
    }
    
    handleAccordion(e) {
        const header = e.currentTarget;
        const section = header.parentElement;
        const isActive = section.classList.contains('active');
        
        document.querySelectorAll('.accordion-section').forEach(s => {
            s.classList.remove('active');
        });
        
        if (!isActive) {
            section.classList.add('active');
        }
    }
    
    applyFilters() {
        this.clearSearchResults();
        const priceValue = parseInt(this.priceSlider.value);
        this.currentFilters.price = priceValue;
        
        this.isPriceFilterActive = priceValue < 50000;
        this.checkIfAnyFilterActive();
        this.updateFilterIndicators();
        this.filterProducts();

        const searchClearButton = document.getElementById('clearSearchButton');
        if (searchClearButton) {
            searchClearButton.style.display = 'none';
        }
        
        setTimeout(() => {
            this.close();
        }, 400);
    }
    
    clearFilters() {
        this.clearSearchResults();
        this.priceSlider.value = 50000;
        this.priceDisplay.textContent = 'UGX 50,000';
        
        document.querySelectorAll('.filter-option[data-value="any"]').forEach(option => {
            const filterType = option.dataset.filter;
            
            document.querySelectorAll(`[data-filter="${filterType}"]`).forEach(opt => {
                opt.classList.remove('active');
            });
            
            option.classList.add('active');
            this.currentFilters[filterType] = 'any';
        });
        
        this.currentFilters.price = 50000;
        this.isPriceFilterActive = false;
        this.hasAnyFilter = false;
        
        this.updateClearButtonsState();
        this.updateFilterIndicators();
        this.showAllProducts();
        
        setTimeout(() => {
            this.close();
        }, 400);
    }
    
    updateClearButtonsState() {
        const hasActiveFilters = this.hasAnyFilter || this.isPriceFilterActive;
        
        if (this.clearBtn) {
            this.clearBtn.disabled = !hasActiveFilters;
        }
        
        if (this.mainClearContainer) {
            this.mainClearContainer.style.display = hasActiveFilters ? 'block' : 'none';
        }
    }
    
    checkIfAnyFilterActive() {
        const hasCategoryFilter = this.currentFilters.category !== 'any';
        const hasMoodFilter = this.currentFilters.mood !== 'any';
        const hasOccasionFilter = this.currentFilters.occasion !== 'any';
        const hasPriceFilter = this.currentFilters.price < 50000;
        
        this.hasAnyFilter = hasCategoryFilter || hasMoodFilter || hasOccasionFilter || hasPriceFilter;
        this.updateClearButtonsState();
    }
    
    updateFilterIndicators() {
        if (this.isPriceFilterActive) {
            this.filterIndicator.classList.add('active');
            
            const tooltipShown = localStorage.getItem('priceFilterTooltipShown');
            if (!tooltipShown) {
                setTimeout(() => {
                    document.getElementById('filterTooltip').classList.add('show');
                }, 500);
            }
        } else {
            this.filterIndicator.classList.remove('active');
        }
        
        // Update all filter dots
        if (this.headerFilterDots) {
            this.headerFilterDots.forEach(dot => {
                dot.style.display = this.isPriceFilterActive ? 'block' : 'none';
            });
        }
        
        console.log('Filter dots updated. Active:', this.isPriceFilterActive, 'Dots found:', this.headerFilterDots ? this.headerFilterDots.length : 0);
    }
    
    dismissTooltip() {
        document.getElementById('filterTooltip').classList.remove('show');
        localStorage.setItem('priceFilterTooltipShown', 'true');
    }
    
    filterProducts() {
        const productGrid = document.getElementById('productGrid');
        const sectionTitle = document.getElementById('sectionTitle');
        const sectionSubtitle = document.getElementById('sectionSubtitle');
        
        if (!productGrid) {
            console.warn('Product grid not found - filtering only works on homepage');
            return;
        }
        
        const allProducts = [];
        const productCards = productGrid.querySelectorAll('.product-card[data-product-data]');

        productCards.forEach(card => {
            try {
                const productData = JSON.parse(card.dataset.productData);
                allProducts.push({ card, data: productData });
            } catch (e) {
                console.error('Error parsing product data:', e);
            }
        });
        
        console.log('ðŸ” Filtering currently visible products:', allProducts.length);
        
        allProducts.forEach(({ card }) => {
            card.style.display = 'none';
        });
        
        let matchingProductIds = null;
        
        ['category', 'mood', 'occasion'].forEach(filterType => {
            const filterValue = this.currentFilters[filterType];
            
            if (filterValue !== 'any') {
                const idsForThisFilter = this.filterProductIds[filterValue];
                console.log(`ðŸ” ${filterType}: ${filterValue} â†’ Products:`, idsForThisFilter);
                
                if (matchingProductIds === null) {
                    matchingProductIds = new Set(idsForThisFilter);
                } else {
                    matchingProductIds = new Set(
                        [...matchingProductIds].filter(id => idsForThisFilter.includes(id))
                    );
                }
            }
        });
        
        console.log('ðŸŽ¯ Category matching product IDs:', matchingProductIds);
        
        let foundCount = 0;
        allProducts.forEach(({ card, data }) => {
            let shouldShow = true;
            
            if (matchingProductIds !== null) {
                shouldShow = matchingProductIds.has(data.id);
            }
            
            if (shouldShow && this.isPriceFilterActive && data.price > this.currentFilters.price) {
                shouldShow = false;
            }
            
            if (shouldShow) {
                card.style.display = 'block';
                foundCount++;
            }
        });
        
        this.updateProductGridUI(sectionTitle, sectionSubtitle, foundCount);
    }
    
    updateProductGridUI(sectionTitle, sectionSubtitle, foundCount) {
        if (!sectionTitle || !sectionSubtitle) return;
        
        let filterText = '';
        if (this.currentFilters.category !== 'any') filterText += this.currentFilters.category;
        if (this.currentFilters.mood !== 'any') filterText += (filterText ? ', ' : '') + this.currentFilters.mood;
        if (this.currentFilters.occasion !== 'any') filterText += (filterText ? ', ' : '') + this.currentFilters.occasion;
        
        if (filterText || this.isPriceFilterActive) {
            sectionTitle.textContent = `Filtered Products`;
            let subtitle = `Found ${foundCount} product${foundCount !== 1 ? 's' : ''}`;
            if (filterText) subtitle += ` matching: ${filterText}`;
            if (this.isPriceFilterActive) subtitle += `${filterText ? ' and' : ''} under UGX ${this.currentFilters.price.toLocaleString()}`;
            sectionSubtitle.textContent = subtitle;
        } else {
            sectionTitle.textContent = 'New Arrivals';
            sectionSubtitle.textContent = 'Latest additions to our collection';
        }
    }
    
    showAllProducts() {
        const productGrid = document.getElementById('productGrid');
        const sectionTitle = document.getElementById('sectionTitle');
        const sectionSubtitle = document.getElementById('sectionSubtitle');
        
        if (productGrid) {
            const productCards = productGrid.querySelectorAll('.product-card');
            productCards.forEach(card => {
                card.style.display = 'block';
            });
        }
        
        if (sectionTitle && sectionSubtitle) {
            sectionTitle.textContent = 'New Arrivals';
            sectionSubtitle.textContent = 'Latest additions to our collection';
        }
    }
}

// ðŸ†• INITIALIZE CATEGORIES PANEL
document.addEventListener('DOMContentLoaded', () => {
    // Only initialize if we're on a page with the categories panel
    if (document.getElementById('categoriesPanel')) {
        window.categoriesPanelInstance = new CategoriesPanel();
        
        // Auto-dismiss tooltip after 30 seconds
        setTimeout(() => {
            const tooltip = document.getElementById('filterTooltip');
            if (tooltip) {
                tooltip.classList.remove('show');
                localStorage.setItem('priceFilterTooltipShown', 'true');
            }
        }, 30000);
    }
});

// Auto-open search panel if redirected from cart
document.addEventListener('DOMContentLoaded', function() {
    // Check if we should auto-open search panel
    if (localStorage.getItem('autoOpenSearch') === 'true') {
        // Clear the flag immediately
        localStorage.removeItem('autoOpenSearch');
        
        // Open search panel after a short delay to ensure everything is loaded
        setTimeout(() => {
            // Try to open the new search panel first
            if (typeof window.searchPanel !== 'undefined' && typeof window.searchPanel.open === 'function') {
                window.searchPanel.open();
            } 
            // Fallback: try to trigger the search button click
            else if (document.querySelector('[data-open-search]')) {
                document.querySelector('[data-open-search]').click();
            }
            // Final fallback: try to open old search overlay
            else if (typeof openSearch === 'function') {
                openSearch();
            }
        }, 500);
    }
});


function navigateToProductWithColor(productSlug, colorIndex) {
    // Store the selected color in sessionStorage
    sessionStorage.setItem(`product_${productSlug}_color`, colorIndex.toString());
    
    // Add a flag to indicate this came from color swatch click
    sessionStorage.setItem(`product_${productSlug}_from_swatch`, 'true');
    
    // Navigate to product page
    window.location.href = `/product/${productSlug}/`;
}

// Event delegation as backup
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('color-option')) {
        const productSlug = e.target.dataset.productSlug;
        const colorIndex = e.target.dataset.colorIndex;
        
        if (productSlug && colorIndex !== undefined) {
            navigateToProductWithColor(productSlug, parseInt(colorIndex));
        }
    }
});

// Check for newsletter success and show toast
const urlParams = new URLSearchParams(window.location.search);
if (urlParams.get('newsletter_success') === 'true') {
    // Use existing toast function or create one
    if (typeof showToast !== 'undefined') {
        showToast('ðŸŽ‰ Welcome to the inner circle! You won\'t miss our latest drops!', 'success');
    } else {
        // Fallback: Create a simple toast
        const toast = document.createElement('div');
        toast.textContent = 'ðŸŽ‰ Welcome! You won\'t miss our latest collections!';
        toast.style.cssText = 'position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #25D366; color: white; padding: 12px 24px; border-radius: 4px; z-index: 10000;';
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 5000);
    }
}
// ðŸ†• SCROLL TRIGGER ANIMATIONS
function initScrollAnimations() {
    const sectionHeader = document.querySelector('.section-header');
    
    if (!sectionHeader) return;
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                sectionHeader.classList.add('animated');
                // Stop observing after animation triggers
                observer.unobserve(sectionHeader);
            }
        });
    }, {
        threshold: 0.3, // Trigger when 30% of element is visible
        rootMargin: '0px 0px -50px 0px' // Adjust trigger point
    });
    
    observer.observe(sectionHeader);
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    initScrollAnimations();
});
// ðŸ†• SCROLL LOCKING FUNCTIONALITY
function initScrollLocking() {
    const categoriesPanel = document.getElementById('categoriesPanel');
    const searchPanel = document.getElementById('searchPanel');
    const body = document.body;
    
    function lockScroll() {
        body.classList.add('panel-open');
    }
    
    function unlockScroll() {
        body.classList.remove('panel-open');
    }
    
    // Categories Panel Scroll Locking
    if (categoriesPanel) {
        const observerCategories = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                    if (categoriesPanel.classList.contains('active')) {
                        lockScroll();
                    } else {
                        unlockScroll();
                    }
                }
            });
        });
        
        observerCategories.observe(categoriesPanel, { attributes: true });
    }
    
    // Search Panel Scroll Locking
    if (searchPanel) {
        const observerSearch = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                    if (searchPanel.classList.contains('active')) {
                        lockScroll();
                    } else {
                        unlockScroll();
                    }
                }
            });
        });
        
        observerSearch.observe(searchPanel, { attributes: true });
    }
    
    // Also handle close buttons explicitly
    document.addEventListener('click', function(e) {
        // Close categories panel
        if (e.target.closest('#closePanelBtn') || e.target.closest('#panelOverlay')) {
            unlockScroll();
        }
        // Close search panel  
        if (e.target.closest('.close-search') || e.target.closest('#searchPanelOverlay')) {
            unlockScroll();
        }
    });
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    initScrollLocking();
});


// ðŸ†• HOMEPAGE CART-AWARE BUTTONS
function updateHomepageCartButtons() {
    const cart = JSON.parse(localStorage.getItem('thegirlyzone_cart') || '[]');
    const cartProductIds = cart.map(item => item.id);
    
    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
        const productId = parseInt(btn.dataset.productId);
        
        if (cartProductIds.includes(productId)) {
            btn.classList.add('in-cart');
            btn.textContent = 'In Cart';
        } else {
            btn.classList.remove('in-cart');
            btn.textContent = 'Add to Cart';
        }
    });
}

// Update buttons when homepage loads
document.addEventListener('DOMContentLoaded', function() {
    // Only run on homepage
    if (document.querySelector('.product-grid-section')) {
        updateHomepageCartButtons();
        
        // Update buttons when ATC is clicked on homepage
        document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                setTimeout(updateHomepageCartButtons, 100);
            });
        });
        
        // Listen for cart changes from other pages
        window.addEventListener('storage', function(e) {
            if (e.key === 'thegirlyzone_cart') {
                updateHomepageCartButtons();
            }
        });
    }
});

// ðŸŽ¯ SMART HYBRID LOADING BAR
class SmartLoadingBar {
    constructor() {
        this.loadingBar = document.querySelector('.global-loading-bar');
        this.progressElement = document.querySelector('.loading-bar-progress');
        this.maxDisplayTime = 2800; // Maximum 2.8 seconds
        this.minDisplayTime = 1500; // Minimum 1.5 seconds
        this.startTime = Date.now();
        this.isComplete = false;
        
        if (this.loadingBar) {
            this.init();
        }
    }
    
    init() {
        console.log('ðŸš€ Initializing smart loading bar...');
        this.startLoading();
        this.setupCompletionLogic();
    }
    
    startLoading() {
        this.loadingBar.classList.add('active');
        this.loadingBar.classList.remove('complete');
    }
    
    setupCompletionLogic() {
        // Create promises for different completion conditions
        const pageLoadedPromise = new Promise(resolve => {
            if (document.readyState === 'complete') {
                resolve('already_loaded');
            } else {
                window.addEventListener('load', () => resolve('page_loaded'));
            }
        });
        
        const minTimePromise = new Promise(resolve => {
            setTimeout(() => resolve('min_time_reached'), this.minDisplayTime);
        });
        
        const maxTimePromise = new Promise(resolve => {
            setTimeout(() => resolve('max_time_reached'), this.maxDisplayTime);
        });
        
        // Race conditions: complete when ANY of these happen
        Promise.race([
            // Complete when: page loads AND minimum time has passed
            Promise.all([pageLoadedPromise, minTimePromise]),
            // OR when maximum time is reached (whichever comes first)
            maxTimePromise
        ]).then((result) => {
            this.handleCompletion(result);
        }).catch(error => {
            console.error('Loading bar error:', error);
            this.forceCompletion();
        });
    }
    
    handleCompletion(result) {
        if (this.isComplete) return;
        this.isComplete = true;
        
        const elapsed = Date.now() - this.startTime;
        const remainingMinTime = Math.max(0, this.minDisplayTime - elapsed);
        
        console.log(`âœ… Loading complete: ${result}, elapsed: ${elapsed}ms`);
        
        // Ensure minimum display time is respected
        if (remainingMinTime > 0) {
            setTimeout(() => this.completeLoading(), remainingMinTime);
        } else {
            this.completeLoading();
        }
    }
    
    completeLoading() {
        this.loadingBar.classList.add('complete');
        
        // Remove from view after animation
        setTimeout(() => {
            this.loadingBar.classList.remove('active');
            console.log('ðŸŽ‰ Loading bar hidden');
        }, 600);
    }
    
    forceCompletion() {
        if (!this.isComplete) {
            console.log('âš ï¸ Forcing loading bar completion');
            this.isComplete = true;
            this.completeLoading();
        }
    }
}

// Initialize on all pages
document.addEventListener('DOMContentLoaded', function() {
    window.smartLoadingBar = new SmartLoadingBar();
});

// Optional: Handle page navigation
document.addEventListener('click', function(e) {
    const link = e.target.closest('a');
    if (link && link.href && link.hostname === window.location.hostname) {
        // Internal navigation - restart loading bar
        setTimeout(() => {
            if (window.smartLoadingBar) {
                window.smartLoadingBar = new SmartLoadingBar();
            }
        }, 100);
    }
});

</script>
    <script src="/assets/js/cart-favourites.js"></script>
    <div class="toast" id="toast"></div>

<script>
// ðŸ†• SMOOTH SCROLL POLYFILL FOR BETTER BROWSER SUPPORT
if (!('scrollBehavior' in document.documentElement.style)) {
    // Load smooth scroll polyfill only if needed
    const script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/iamdustan-smoothscroll/0.4.0/smoothscroll.min.js';
    document.body.appendChild(script);
}

// ðŸ†• ENHANCE SCROLL BEHAVIOR
function smoothScrollTo(targetPosition) {
    if ('scrollBehavior' in document.documentElement.style) {
        window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
        });
    } else {
        // Fallback for older browsers
        window.scrollTo(0, targetPosition);
    }
}
// ðŸ†• FILTER BANNER FUNCTIONALITY
class FilterBanner {
    constructor() {
        this.banner = document.getElementById('filterBanner');
        this.categoriesPanel = window.categoriesPanelInstance;
        
        if (this.banner) {
            this.init();
        }
    }
    
    init() {
        // Add click handlers to all banner options
        document.querySelectorAll('.filter-banner-option').forEach(option => {
            option.addEventListener('click', (e) => this.handleBannerOptionClick(e));
        });
        
        // Listen for filter changes to update banner state
        this.updateBannerVisibility();
        
        // Add scroll indicator for better UX
        this.addScrollIndicators();
    }
    
    handleBannerOptionClick(e) {
        const option = e.currentTarget;
        const filterType = option.dataset.filter;
        const filterValue = option.dataset.value;
        
        // Update the categories panel state
        this.updateCategoriesPanel(filterType, filterValue);
        
        // Apply the filters
        if (this.categoriesPanel) {
            this.categoriesPanel.applyFilters();
        }
        
        // Hide the banner
        this.hideBanner();
    }
    
    updateCategoriesPanel(filterType, filterValue) {
        if (!this.categoriesPanel) return;
        
        // Update the current filters
        this.categoriesPanel.currentFilters[filterType] = filterValue;
        
        // Update UI in the categories panel
        document.querySelectorAll(`[data-filter="${filterType}"]`).forEach(opt => {
            opt.classList.remove('active');
        });
        
        const targetOption = document.querySelector(`[data-filter="${filterType}"][data-value="${filterValue}"]`);
        if (targetOption) {
            targetOption.classList.add('active');
        }
        
        // Update filter state
        this.categoriesPanel.checkIfAnyFilterActive();
    }
    
    hideBanner() {
        this.banner.classList.add('hidden');
        
        // Show the main clear filters button
        const mainClearContainer = document.getElementById('mainClearFiltersContainer');
        if (mainClearContainer) {
            mainClearContainer.style.display = 'block';
        }
    }
    
    showBanner() {
        this.banner.classList.remove('hidden');
    }
    
    updateBannerVisibility() {
        // Check if any filters are active
        const hasActiveFilters = this.categoriesPanel && 
            (this.categoriesPanel.hasAnyFilter || this.categoriesPanel.isPriceFilterActive);
        
        if (hasActiveFilters) {
            this.hideBanner();
        } else {
            // Show banner after 2 seconds when filters are cleared
            setTimeout(() => {
                this.showBanner();
            }, 2000);
        }
    }
    
    // Add subtle scroll indicators for better UX
    addScrollIndicators() {
        const banner = this.banner;
        
        banner.addEventListener('scroll', () => {
            // The scrollbar will automatically show during scrolling
            // due to our CSS :focus-within and :hover states
        });
        
        // Add keyboard navigation support
        banner.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                e.preventDefault();
                const scrollAmount = 100;
                banner.scrollLeft += e.key === 'ArrowRight' ? scrollAmount : -scrollAmount;
            }
        });
    }
    
    // Method to be called when filters are cleared
    onFiltersCleared() {
        this.updateBannerVisibility();
    }
}

// Initialize filter banner
document.addEventListener('DOMContentLoaded', () => {
    window.filterBannerInstance = new FilterBanner();
    
    // Override categories panel methods to integrate with banner
    if (window.categoriesPanelInstance) {
        const originalApplyFilters = window.categoriesPanelInstance.applyFilters;
        const originalClearFilters = window.categoriesPanelInstance.clearFilters;
        
        window.categoriesPanelInstance.applyFilters = function() {
            originalApplyFilters.call(this);
            if (window.filterBannerInstance) {
                window.filterBannerInstance.hideBanner();
            }
        };
        
        window.categoriesPanelInstance.clearFilters = function() {
            originalClearFilters.call(this);
            if (window.filterBannerInstance) {
                window.filterBannerInstance.onFiltersCleared();
            }
        };
    }
});
</script>

</body>
</html>